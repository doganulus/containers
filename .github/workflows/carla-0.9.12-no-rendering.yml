name: carla-0.9.12-no-rendering

on:
  push:
    paths:
    - 'carla/0.9.12-no-rendering/**'
    - '.github/workflows/carla-0.9.12-no-rendering.yml' # Self-trigger

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - name: Build the image
      run:  docker build -t docker.io/doganulus/carla:0.9.12-no-rendering carla/0.9.12-no-rendering
    - name: Push the image to DockerHub
      run: |
        docker login -u "${{ secrets.DOCKERHUB_CONTAINER_IMAGES_USERNAME }}" -p "${{ secrets.DOCKERHUB_CONTAINER_IMAGES_TOKEN }}"
        docker push docker.io/doganulus/carla:0.9.12-no-rendering
